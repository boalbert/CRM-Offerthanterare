<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">>
<head>

    <meta charset="utf-8">
    <meta content="" name="description">
    <meta content="" name="author">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>Offerthanterare</title>
    <link th:href="@{/webjars/bootstrap/4.0.0-2/css/bootstrap.min.css} " th:rel="stylesheet"/>
    <link th:href="@{/js/index.js}" th:rel="stylesheet"/>


</head>
<body>

<!--<p th:text="${'Antal aktiva offerter: ' + totalBelopp + '.'}"></p>-->

<!-- Primary Page Layout
–––––––––––––––––––––––––––––––––––––––––––––––––– -->
<div class="container">

    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand">Offerthanterare</a>
            <form class="d-flex">
                <input class="form-control" id="myInput" type="text" placeholder="Search..">
            </form>
        </div>
    </nav>

    <div class="row">
        <div class="col">
            <table class="table table-striped">
                <thead class="thead-light">
                <tr>
                    <th scope="row">Offert</th>
                    <th scope="row">Kund</th>
                    <th>Namn</th>
                    <th>Säljare</th>
                    <th>Status</th>
                    <th>Chans</th>
                    <th>Belopp</th>
                    <th>Ändrad</th>
                    <th>Skapad</th>
                    <th>Uppdatera</th>
                </tr>
                </thead>
                <tbody id="myTable">
                <tr th:each="offerStat : ${offerStats}"
                    th:styleappend="${offerStat.dateDiff} > 5 ? 'background: grey;' : 'color: black;'">
                    <td scope="row" th:text="${offerStat.orderNr}">NULL</td>
                    <td scope="row" th:text="${offerStat.foretagNamn}">NULL</td>
                    <td th:text="${offerStat.offertNamn}">NULL</td>
                    <td th:text="${offerStat.saljare}">NULL</td>
                    <td th:text="${offerStat.status} ? ${offerStat.status} : ' - '">NULL</td>
                    <td th:text="${offerStat.chans} ? ${offerStat.chans} : ' - '">NULL</td>
                    <td th:text="${offerStat.belopp} ? ${offerStat.belopp} : ' - '">NULL</td>
                    <td th:text="${offerStat.updateDate}">NULL</td>
                    <td th:text="${offerStat.regDate}">NULL</td>
                    <td><a class="btn btn-primary" role="button" th:href="@{/update/{id}(id=${offerStat.orderNr})}">Info</a>
                    </td>


                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>




<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
<script th:src="@{/webjars/jquery/3.0.0/jquery.min.js}"></script>

<script>
    $(document).ready(function(){
        $("#myInput").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#myTable tr").filter(function() {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });
    });
</script>

</body>
</html>
