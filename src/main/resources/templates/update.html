<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">>
<head>

    <meta charset="utf-8">
    <meta content="" name="description">
    <meta content="" name="author">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>Offerthanterare - Uppdatera</title>
    <link th:href="@{/webjars/bootstrap/4.0.0-2/css/bootstrap.min.css} " th:rel="stylesheet"/>
    <link th:href="@{/js/index.js}" th:rel="stylesheet"/>
</head>

<body>

<div class="container-fluid">
    <div class="row">
        <div class="col-2">
        </div>
        <div class="col-9">
            <div class="col m-2">
                <h1 class="display-3">Offerthanterare</h1>
                <p class="lead"><kbd>BETA</kbd></p>
                <p class="lead">Uppdatera offert</p>
            </div>
        </div>
        <div class="col-1">
        </div>
    </div>
</div>

<div class="container-fluid">
    <div class="row">
        <div class="col-2">

            <div class="card m-2">
                <div class="card-body">
                    <h5 class="card-title">Obs</h5>
                    <p class="card-text">
                        Inmatad information importeras till Pyramid med X intervall.
                    </p>
                    <p class="card-text">
                        Aktuell informatin visas alltid på huvudsidan.
                    </p>
                    <p class="card-text">
                        Det kan alltså dröja en stund innan det syns inuti affärssystemet.
                    </p>

                </div>
            </div>

        </div>
        <div class="col-6">

            <form action="#" class="align-items-center" method="POST" th:action="@{/updateOffer}" th:object="${offer}">

                <!--        Bolag-->
                <div class="form-group row">
                    <label class="col-sm-2 col-form-label">Bolag</label>
                    <div class="col-sm-10">
                        <p class="col-form-label" th:text="*{company}"></p>
                    </div>
                </div>

                <!--        Offertnr-->
                <div class="form-group row">
                    <label class="col-sm-2 col-form-label">Offertnummer</label>
                    <div class="col-sm-10">
                        <p class="col-form-label" th:text="*{offerNo}"></p>
                    </div>
                </div>

                <!--        Offertnamn-->
                <div class="form-group row">
                    <label class="col-sm-2 col-form-label">Offertnamn</label>
                    <div class="col-sm-10">
                        <p class="col-form-label" th:text="*{offerName}"></p>
                    </div>
                </div>

                <!--        Säljare-->
                <div class="form-group row">
                    <label class="col-sm-2 col-form-label">Säljare</label>
                    <div class="col-sm-10">
                        <p class="col-form-label" th:text="*{salesPerson}"></p>
                    </div>
                </div>

                <!--        Kundnamn-->
                <div class="form-group row">
                    <label class="col-sm-2 col-form-label">Kund</label>
                    <div class="col-sm-10">
                        <p class="col-form-label" th:text="*{customerName}"></p>
                    </div>
                </div>


                <!--        Belopp-->
                <div class="form-group row">
                    <label class="col-sm-2 col-form-label">Belopp</label>
                    <div class="col-sm-10">
                        <p class="col-form-label"
                           th:text="*{#numbers.formatDecimal(offerSum, 1, 'DEFAULT', 0, 'DEFAULT') + ' SEK'}"></p>
                    </div>
                </div>


                <!--        Er referens-->
                <div class="form-group row">
                    <label class="col-sm-2 col-form-label" for="inputReferens">Er Referens</label>
                    <div class="col-sm-10">
                        <input class="form-control" id="inputReferens" th:placeholder="*{customerContact}">
                    </div>
                </div>

                <!--        Inköpsorder-->
                <div class="form-group row">
                    <label class="col-sm-2 col-form-label" for="inputPurchaseOrder">Ert ordernr</label>
                    <div class="col-sm-10">
                        <input class="form-control" id="inputPurchaseOrder" th:placeholder="*{purchaseOrder}">
                    </div>
                </div>

                <!--    Status-->
                <div class="form-group row">
                    <label class="col-sm-2 col-form-label" for="autoSizingSelectStatus">Status </label>
                    <div class="col-sm-10">
                        <select class="form-control" id="autoSizingSelectStatus" th:field="*{status}">
                            <option value="10">10: Suspect (Oklart behov)</option>
                            <option value="20">20: Prospect - att jobba på.</option>
                            <option value="30">30: Demo Bokad eller offertarbete</option>
                            <option value="40">40: Offert hos kund - bearbetas</option>
                            <option value="50">50: Avslut nära</option>
                            <option value="60">60: Ice cold - Avvakta</option>
                            <option value="70">70: Förlorad till konkurrent</option>
                            <option value="80">80: Projekt nerlagt</option>
                        </select>
                    </div>
                </div>

                <!--        Chans 2-->
                <div class="form-group row">
                    <label class="col-sm-2 col-form-label" for="autoSizingSelectChans">Chans (%) </label>
                    <div class="col-sm-10">
                        <select class="form-control" id="autoSizingSelectChans" th:field="*{chance}">
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="30">30</option>
                            <option value="40">40</option>
                            <option value="50">50</option>
                            <option value="60">60</option>
                            <option value="70">70</option>
                            <option value="80">80</option>
                            <option value="90">90</option>
                            <option value="100">100</option>
                        </select>
                    </div>
                </div>


                <!--    Kommentar-->
                <fieldset class="form-group">
                    <div class="row">
                        <legend class="col-form-label col-sm-2 pt-0">Kommentar</legend>
                        <div class="col-sm-10">

                            <label for="inputKommentar"></label>
                            <textarea class="form-control" disabled id="inputKommentar"
                                      style="height: 100px" th:field="*{comment}"></textarea>
                        </div>
                    </div>
                </fieldset>

                <!--        Back & Update Button        -->
                <div class="form-group row">
                    <div class="col-sm-10">
                        <a class="btn btn-primary" th:href="@{/}">Tillbaka</a>
                        <button class="btn btn-primary" type="submit">Spara</button>
                    </div>
                </div>


                <!--        Below is hidden from input-->
                <input placeholder="Koncenbolag" th:field="*{company}" type="hidden">
                <input placeholder="OrderId" th:field="*{offerNo}" type="hidden">
                <input placeholder="foretagKod" th:field="*{customerNo}" type="hidden">
                <input placeholder="kundId" th:field="*{customerName}" type="hidden">
                <input placeholder="projektNamn" th:field="*{offerName}" type="hidden">
                <input placeholder="Säljare" th:field="*{salesPerson}" type="hidden">
                <input placeholder="Säljare" th:field="*{customerContact}" type="hidden">
                <input placeholder="Säljare" th:field="*{purchaseOrder}" type="hidden">
                <input placeholder="belopp" th:field="*{offerSum}" type="hidden">
                <input placeholder="updateDate" th:field="*{dateUpdated}" type="hidden">
                <input placeholder="RegDatum" th:field="*{{dateCreated}}" type="hidden">

            </form>


            <!--        Infobox ang. andra offerter på kund-->
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                <strong>Info</strong> Nedan visas aktiva offerter för vald kund.
            </div>

            <!--        Offerter på kund-->
            <table class="table">
                <thead>
                <tr>
                    <th>Bolag</th>
                    <th>Offert</th>
                    <th>Namn</th>
                    <th>Säljare</th>
                    <th>Status</th>
                    <th>Chans</th>
                    <th>Belopp</th>
                    <th>Ändrad</th>
                    <th>Skapad</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="offersCustomer : ${offersCustomer}"
                    th:styleappend="${offersCustomer.dateDiff}">
                    <td th:text="${offersCustomer.company}">NULL</td>
                    <td th:text="${offersCustomer.offerNo}">NULL</td>
                    <td th:text="${offersCustomer.offerName}">NULL</td>
                    <td th:text="${offersCustomer.salesPerson}">NULL</td>
                    <td th:text="${offersCustomer.status} ? ${offersCustomer.status} : ' - '">NULL</td>
                    <td th:text="${offersCustomer.chance} ? ${offersCustomer.chance} : ' - '">NULL</td>
                    <td th:text="${#numbers.formatDecimal(offersCustomer.offerSum, 1, 'DEFAULT', 0, 'DEFAULT')} ? ${#numbers.formatDecimal(offersCustomer.offerSum, 1, 'DEFAULT', 0, 'DEFAULT')} : ' - '">
                        NULL
                    </td>
                    <td th:text="${offersCustomer.dateUpdated}">NULL</td>
                    <td th:text="${offersCustomer.dateCreated}">NULL</td>
                    <td><a class="btn btn-primary" role="button"
                           th:href="@{/update/{id}(id=${offersCustomer.offerNo})}">MER</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>


    <div class="col-3">


    </div>
</div>


</body>
</html>